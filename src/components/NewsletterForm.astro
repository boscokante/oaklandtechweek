---
// No props needed
---

<form 
  action="https://formspree.io/f/your-form-id" 
  method="POST" 
  class="max-w-md mx-auto"
>
  <!-- Honeypot field for spam protection -->
  <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />
  
  <div class="flex flex-col sm:flex-row gap-4">
    <input 
      type="email" 
      name="email" 
      placeholder="your@email.com"
      required
      class="flex-1 px-6 py-4 rounded-full text-ink font-mono placeholder-ink/40 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 border-2 border-ink/20"
    />
    <button 
      type="submit" 
      class="px-12 py-4 bg-primary text-white font-display rounded-full uppercase tracking-wide hover:bg-purple-600 transition-all hover:scale-105"
    >
      Subscribe
    </button>
  </div>
  
  <p class="text-sm text-ink/60 mt-4 font-mono">
    We respect your privacy. Unsubscribe at any time.
  </p>
</form>
    
    <!-- Success/Error states (progressive enhancement) -->
    <div id="form-success" class="hidden mt-4 p-4 bg-green-100 text-green-800 rounded-xl">
      Thanks for subscribing! We'll keep you updated.
    </div>
    
    <div id="form-error" class="hidden mt-4 p-4 bg-red-100 text-red-800 rounded-xl">
      Something went wrong. Please try again.
    </div>
  </div>
</section>

<script>
  // Progressive enhancement for form feedback
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const successDiv = document.getElementById('form-success');
    const errorDiv = document.getElementById('form-error');
    
    if (form) {
      form.addEventListener('submit', function() {
        // Hide any previous messages
        if (successDiv) successDiv.classList.add('hidden');
        if (errorDiv) errorDiv.classList.add('hidden');
        
        // Show loading state (optional)
        const submitBtn = form.querySelector('button[type="submit"]') as HTMLButtonElement;
        if (submitBtn) {
          submitBtn.textContent = 'Subscribing...';
          submitBtn.disabled = true;
        }
      });
    }
    
    // Check for URL parameters to show success/error messages
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('success') === 'true' && successDiv) {
      successDiv.classList.remove('hidden');
    } else if (urlParams.get('error') === 'true' && errorDiv) {
      errorDiv.classList.remove('hidden');
    }
  });
</script>
